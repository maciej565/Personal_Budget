{% extends "base.html" %}

{% block title %}Logowanie{% endblock %}

{% block header %}
<div class="logoBarDesign">
    <nav class="row navbar-expand-lg navbar navbar-dark">                       
        <a href="https://budget.maciej-klosinski.profesjonalnyprogramista.pl" class=""> <img src="/img/logo.svg" class="" alt="Budżet osobisty"></a>                                                   
    </nav>
</div>
{% endblock %}

{% block body %}
<div class="row">                       
    <div class="col-1 col-sm-2 col-lg-3 col-xl-4 "></div>
    <div class="loginContainer col-10 col-sm-8 col-lg-6 col-xl-4 text-center">                              
        <form class="card-body mx-auto" action="/login/create" method="post">
            <span class="card-title title">Logowanie</span>
            <hr>

            <div class="form-group input-group">                                        
                <span class="input-group-text borderDesign"><i class="fa fa-user"></i></span>
                <input class="form-control borderDesign" id="email" placeholder="email" autofocus value="{{ email }}" name="email" type="email" value="{{ email }}">                                 
            </div> 

            <div class="form-group input-group">
                <span class="input-group-text borderDesign "><i class="fa fa-lock"></i></span>
                <input class="form-control borderDesign" id="password" placeholder="hasło" name="password" type="password">
                <div class="input-group-prepend">
                    <div class="input-group-text">
                        <a href="#" class="text-dark" id="icon-click">
                            <i class="fas fa-eye" id="icon"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="form-check mb-2 mr-sm-2">  
                <input class="form-check-input" type="checkbox" id="remember_me" name="remember_me" {% if remember_me %} checked ="checked" {% endif %}>
                <label class="form-check-label" for="remember_me">
                    Zapamiętaj mnie
                </label>      
            </div>
            
            <div class= "d-flex justify-content-center">        
                <button class="col-8 col-sm-6 btn btn-lg btn-info btn-block standardButton" type="submit" name="login" >Zaloguj się</button>
            </div>
           <div class="error">{{loginError}}</div>
        </form>
        
        <form class="mx-auto " action="/signup/new">
            <label>Nie posiadasz konta?</label> 
            <hr>
            <div class="d-flex justify-content-center" >    
                <button class="col-8 col-sm-6 btn btn-lg btn-info btn-block standardButton" type="submit">Rejestracja</button>                    
            </div>
            <br>
        </form>                                 
    </div>
    <div class="col-1 col-sm-2 col-lg-3 col-xl-4 "></div>
</div>
{% endblock %}
{% block scripts %}
<script type="text/javascript">
    $(document).ready(function(){
        $("#icon-click").click(function(){
            $("#icon").toggleClass("fa-eye-slash");
            var input = $("#password");
            if(input.attr("type")==="password")
            {
                input.attr("type","text");
            }
            else
            {
                input.attr("type","password");
            }
        });
    });
</script>
{% endblock %}